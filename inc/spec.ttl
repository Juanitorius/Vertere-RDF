@prefix bibo: <http://example.com/bibo#> .
@prefix conversion: <http://example.com/schema/data_conversion#> .
@prefix fly: <http://flybydata.com/schema/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix georss: <http://www.georss.org/georss/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<#> a conversion:Spec
; conversion:format conversion:CSV
; conversion:header_rows 1
; conversion:uri_specs <#uri_specs>
; conversion:statement_specs <#statement_specs>
; conversion:base_uri "http://flybydata.com/"
.

<#uri_specs> a rdf:Seq
; rdf:_1 <#airport_uri>
; rdf:_2 <#ourairports_url>
; rdf:_3 <#continent_uri>
; rdf:_4 <#country_uri>
; rdf:_5 <#region_uri>
; rdf:_6 <#type_uri>
.

<#airport_uri> a conversion:UriSpec
; conversion:container "airports"
; conversion:source_column 2
; conversion:urlify false
; conversion:type fly:Airport
.

<#ourairports_url> a conversion:UriSpec
; conversion:base_uri "http://www.ourairports.com/airports/"
; conversion:append_uri "/"
; conversion:source_column 2
; conversion:urlify false
; conversion:type bibo:WebPage
.

<#continent_uri> a conversion:UriLookupSpec
; conversion:lookup <#continents_lookup>
; conversion:source_column 8
; conversion:type fly:Continent
.

<#country_uri> a conversion:UriSpec
; conversion:base_uri_from <#continent_uri>
; conversion:container "countries"
; conversion:source_column 9
; conversion:type fly:Country
.

<#region_uri> a conversion:UriSpec
; conversion:base_uri_from <#country_uri>
; conversion:container "regions"
; conversion:source_column 10
; conversion:type fly:Region
.

<#type_uri> a conversion:UriSpec
; conversion:source_column 3
; conversion:container "types"
; conversion:type rdfs:Class
.

<#statement_specs> a rdf:Seq
; rdf:_1 <#name_statement>
; rdf:_2 <#latitude_statement>
; rdf:_3 <#longitude_statement>
; rdf:_4 <#latlong_statement>
.

<#name_statement> a conversion:StatementSpec
; conversion:subject_from <#airport_uri>
; conversion:property foaf:name
; conversion:source_column 4
; conversion:language "en-us"
.

<#latitude_statement> a conversion:StatementSpec
; conversion:subject_from <#airport_uri>
; conversion:property geo:lat
; conversion:source_column 5
; conversion:datatype xsd:float
.

<#longitude_statement> a conversion:StatementSpec
; conversion:subject_from <#airport_uri>
; conversion:property geo:long
; conversion:source_column 6
; conversion:datatype xsd:float
.

<#latlong_statement> a conversion:StatementSpec
; conversion:subject_from <#airport_uri>
; conversion:property georss:point
; conversion:source_columns [ rdf:_1 5 ; rdf:_2 6 ; ]
; conversion:source_column_glue " "
.

<#continents_lookup> a conversion:Lookup
; conversion:lookup_entry [ conversion:lookup_key "AF"; conversion:lookup_value <http://flybydata.com/continents/africa> ]
; conversion:lookup_entry [ conversion:lookup_key "AS"; conversion:lookup_value <http://flybydata.com/continents/asia> ]
; conversion:lookup_entry [ conversion:lookup_key "EU"; conversion:lookup_value <http://flybydata.com/continents/europe> ]
; conversion:lookup_entry [ conversion:lookup_key "NA"; conversion:lookup_value <http://flybydata.com/continents/north_america> ]
; conversion:lookup_entry [ conversion:lookup_key "SA"; conversion:lookup_value <http://flybydata.com/continents/south_america> ]
; conversion:lookup_entry [ conversion:lookup_key "OC"; conversion:lookup_value <http://flybydata.com/continents/oceania> ]
; conversion:lookup_entry [ conversion:lookup_key "AN"; conversion:lookup_value <http://flybydata.com/continents/antarctica> ]
.